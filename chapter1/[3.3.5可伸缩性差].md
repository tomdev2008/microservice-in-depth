# 可伸缩性差

  ##垂直扩展(Vertical Scaling或Scale-up)

  如果应用程序的所有功能代码都运行在同一个服务器上，将会导致应用程序的扩展非常困难。如果扩展要求紧急，那么垂直
扩展可能是最容易的（如果钱不是问题的话）。

  在大多数情况下，如果舍得砸钱上IBM的服务器、Oracle的数据库或者来自EMC的存储设备，不用改变一行代码，整个世界
都会变好的。不幸的是，伴随着业务的增长，数据的增长，垂直扩展可能会变得一次比一次吃力，成本越来越高。这也是为什么很多公司开始尝试使用开源，并放弃昂贵的IOE产品的原因。有兴趣的朋友可以看看淘宝技术架构的演进，《淘宝技术这十年》里讲了很多类似的故事。

  ##水平扩展(Horizontal Scaling或Scale-out)

  水平扩展，通常的做法是建立一个集群，通过在集群中不断的添加新节点，然后借助前端的负载均衡器，将用
  户的请求按照某种算法，譬如轮转法、散列法或者最小连接法等合理的将请求分配到不同的节点上。

  但是，对于单块架构而言，由于所有程序代码都运行在服务器上的同一个进程中，会导致应用程序的水平扩展成本非常高。

  譬如，如果应用程序某部分的功能是内存密集型的，如需要缓存大量数据，而另外一部分功能是CPU密集型的，如需要进行大
量的运算，那么每次实施水平扩展，运行该应用的服务器都必须有足够的内存和强劲的CPU来满足需求。

  因此，鉴于每个服务器都要提供该应用系统所需要的各种资源，基础设施的整体花费可能会非常高。另外，如果某些节点内部
保持了状态，如用户登陆后的会话信息等，更大大增加了水平扩展的难度。

