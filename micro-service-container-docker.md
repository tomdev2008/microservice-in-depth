近几年，一些大型的互联网公司，譬如Netflix、亚马逊、易趣等，都在将现有的架构升级成微服务架构。
当然，虽然这不是一场彻底的革命，而是架构的演进过程。是一个从整体架构，演变到微服务的架构。

如今，每个人都在讨论容器技术，尤其是Docker。为什么容器技术和Docker从去年以来受到如此大的关注。
和微服务架构有关系吗？我认为是的。微服务架构需要轻量级的机制，小的独立可部署的服务，可扩展性和可移植性。这些要求都能够通过容器技术来满足。

在我们讨论容器技术之前，先让我们看看什么是微服务架构。

---------------------------------------------

我们可以先了解微服务本身的特点，然后看看是否容器（Docker特别）是否能满足这些要求：
- 每个微服非常小
- 每个服务可以被独立部署
- 可伸缩性好
- 故障隔离性
- 每个服务可以被独立开发和部署
- 消除对单一技术栈的限定

容器经常被描述为轻量级的运行环境，通过隔离虚拟机和相关的组件，让部署包更容易的执行微服务。

容器通常被描述为轻量级的运行环境中的虚拟机和独立的操作系统，使部署包能够被容易和执行这些微服务。
其实，容器并不是新技术。他们早已在世界各地使用。（Windows Server的容器很快就将发布）

Docker是一个开源项目，其目的是通过建立可移植的镜像（操作系统），自动化部署应用。

同虚拟机对比，Docker容器并不包含操作系统，其会与其他容器共享操作系统。

Docker使用Linux内核如cgroups和内核命名空间，隔离不同的资源。并允许独立的“容器”运行一个Linux实例内，避免启动虚拟机的开销。

Docker将应用封装在一个虚拟的镜像中，该镜像可以运行在任何装有Docker的Linux操作系统上。
---------------------------------------------

为什么考虑Docker作为解决方案：

适合微服务架构：容器支持微服务架构。
服务是建立在业务能力上，能够被完全自动化的部署机械独立部署。每个微服务可以被部署，而并不会中断其他微服务和容器，因此从速度，隔离管理和生命周期上，Docker提供了一个理想的环境。
因此，通过容器内部署新版本的服务是很容易的。

应用程序的可移植性：Docker能将应用程序和它所有的依赖打包到一个镜像中，不同平台间的移植，Linux的分发包和云。您可以用容器建立、移动和运行分布式应用程序。通过容器内的自动化部署，开发人员和运维人员可以在笔记本电脑、虚拟机、服务器和云上运行相同的应用程序。

资源利用：容器本身包括了应用程序及其的依赖关系。每个容器作为一个独立的进程，运行在主机的操作系统上，并与其他容器共享内核。
因此，它享有的虚拟机的资源隔离和分配，但更加便携和高效。这意味着容器不仅可运行虚拟机上，也可以在物理机上。由于容器的，您可以在物理服务器上运行更多的容器，而不是虚拟机。其结果是资源利用率较高。

符合业界发展趋势：容器技术是服务器虚拟化技术革命后的新兴技术产业。而Docker正在引领容器技术的发展。很多行业巨头，包括IBM，谷歌，VMware，RedHat和微软都与Docker签署了合作协议。这些协议也表明，Docker在云计算和虚拟化时代的巨大潜力。

---------------------------------------------
容器技术来源于操作系统资源隔离的想法。这可能容许一个操作系统内核，支持所有的资源隔离的情况，不需要在同一时间运行多个内核实例，导致的开销和复杂性。
Linux内核通过命名空间实现资源隔离。某些是网络命名空间、用户空间，进程空间。

每个命名空间的目的是给特定主机操作系统资源包中的一个抽象的概念，使得它出现的过程在命名空间内，他们有他们自己的孤立的实例的主机操作系统资源。（关于这方面的更多信息可以在这里找到迈克尔Kerrisk伟大的文章）